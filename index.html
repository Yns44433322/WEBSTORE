<!DOCTYPE html> 
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nadreth Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #7c8bf5;
            --secondary-color: #a5b4fc;
            --accent-color: #6366f1;
            --text-color: #374151;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --gradient: linear-gradient(135deg, #f0f4ff 0%, #e6eeff 50%, #fce7f3 100%);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s ease;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
        }

        .dark-theme {
            --primary-color: #8b5cf6;
            --secondary-color: #a78bfa;
            --accent-color: #10b981;
            --text-color: #e5e7eb;
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --gradient: linear-gradient(135deg, #1e293b 0%, #334155 30%, #7c3aed 70%, #0f766e 100%);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        body {
            background: var(--gradient);
            color: var(--text-color);
            transition: var(--transition);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            z-index: 10000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background-color: var(--success-color);
        }

        .notification.error {
            background-color: var(--error-color);
        }

        .notification.warning {
            background-color: var(--warning-color);
        }

        .notification.info {
            background-color: var(--primary-color);
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header & Navigation */
        header {
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-color);
            transition: var(--transition);
            background-color: var(--card-bg);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .theme-toggle:hover {
            transform: rotate(15deg);
        }

        .theme-toggle .fa-sun {
            color: #f59e0b;
        }

        .theme-toggle .fa-moon {
            color: #e5e7eb;
        }

        .theme-toggle i {
            transition: all 0.5s ease;
            position: absolute;
        }

        .theme-toggle .fa-sun {
            opacity: 1;
            transform: scale(1) rotate(0deg);
        }

        .dark-theme .theme-toggle .fa-sun {
            opacity: 0;
            transform: scale(0) rotate(180deg);
        }

        .theme-toggle .fa-moon {
            opacity: 0;
            transform: scale(0) rotate(-180deg);
        }

        .dark-theme .theme-toggle .fa-moon {
            opacity: 1;
            transform: scale(1) rotate(0deg);
        }

        .profile-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
            font-size: 1.2rem;
            transition: var(--transition);
            background-color: var(--card-bg);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .profile-btn:hover {
            color: var(--primary-color);
        }

        /* Main Content */
        .page {
            display: none;
            padding: 40px 0;
            min-height: calc(100vh - 150px);
        }

        .page.active {
            display: block;
        }

        /* Welcome Page */
        .welcome-page {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
            padding: 60px 0;
        }

        .welcome-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .welcome-motto {
            font-size: 1.5rem;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
            color: var(--text-color);
            opacity: 0.9;
        }

        .welcome-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 35px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* Products Page */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .product-card {
            background-color: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-image .placeholder-icon {
            position: absolute;
            opacity: 0.3;
        }

        .product-info {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-name {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .product-benefits {
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .product-benefits ul {
            list-style-type: none;
            padding-left: 0;
        }

        .product-benefits li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 20px;
        }

        .product-benefits li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        .product-actions {
            margin-top: auto;
        }

        /* Payment Page */
        .payment-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .order-summary {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .discount-section {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .discount-input-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .discount-input-group input {
            flex: 1;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        .discount-input-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .discount-info {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success-color);
            display: none;
        }

        .discount-info.active {
            display: block;
        }

        .discount-info.error {
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--error-color);
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .payment-method {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .payment-method:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .payment-method.active {
            border-color: var(--primary-color);
        }

        .payment-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .payment-logo {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .payment-name {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .payment-details {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .payment-details.active {
            display: block;
        }

        .payment-number {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: rgba(0, 0, 0, 0.05);
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .payment-number span {
            font-family: monospace;
            font-size: 1.1rem;
        }

        .copy-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background-color: var(--secondary-color);
        }

        .payment-timer {
            text-align: center;
            margin: 20px 0;
            font-size: 1.2rem;
        }

        .timer {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .payment-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .payment-qr {
            text-align: center;
            margin: 20px 0;
        }

        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            overflow: hidden;
        }

        .qr-code img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .unavailable {
            color: #999;
            font-style: italic;
        }

        /* Footer */
        footer {
            background-color: var(--card-bg);
            padding: 20px 0;
            text-align: center;
            margin-top: 50px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
        }

        /* Modal & Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .account-type {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .account-option {
            flex: 1;
            text-align: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .account-option.active {
            border-color: var(--primary-color);
            background-color: rgba(74, 108, 247, 0.1);
        }

        /* Developer Dashboard */
        .developer-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .discount-list {
            margin-top: 30px;
        }

        .discount-item {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
        }

        .discount-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .discount-code {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .discount-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        /* Error message styling */
        .error-message {
            color: var(--error-color);
            font-size: 0.875rem;
            margin-top: 5px;
            display: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
            }
            
            .welcome-title {
                font-size: 2.5rem;
            }
            
            .welcome-motto {
                font-size: 1.2rem;
            }
            
            .welcome-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .payment-actions {
                flex-direction: column;
            }

            .discount-input-group {
                flex-direction: column;
            }
        }

        /* Cloud animation for light theme */
        .cloud-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.5;
            pointer-events: none;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .cloud:nth-child(1) {
            width: 150px;
            height: 60px;
            top: 20%;
            left: 10%;
            animation: float 20s infinite linear;
        }

        .cloud:nth-child(2) {
            width: 200px;
            height: 80px;
            top: 40%;
            right: 10%;
            animation: float 25s infinite linear reverse;
        }

        .cloud:nth-child(3) {
            width: 180px;
            height: 70px;
            bottom: 30%;
            left: 20%;
            animation: float 30s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateX(0) translateY(0);
            }
            50% {
                transform: translateX(50px) translateY(10px);
            }
            100% {
                transform: translateX(0) translateY(0);
            }
        }

        /* Modern dark theme elements */
        .dark-theme .product-card,
        .dark-theme .payment-method,
        .dark-theme .modal,
        .dark-theme .order-summary,
        .dark-theme .discount-section {
            background: linear-gradient(145deg, #1e293b, #1a2436);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .dark-theme .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        }

        .dark-theme .btn-primary:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }

        .dark-theme .product-image,
        .dark-theme .payment-logo {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        }
    </style>
</head>
<body>
    <!-- Notification System -->
    <div id="notificationContainer"></div>

    <!-- Cloud Background for Light Theme -->
    <div class="cloud-bg" id="cloudBg">
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <i class="fas fa-store"></i>
                    <span>Store Nadreth</span>
                </div>
                <div class="nav-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="profile-btn" id="profileBtn">
                        <i class="fas fa-user"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Welcome Page -->
        <section id="welcome" class="page active">
            <div class="container">
                <div class="welcome-page">
                    <h1 class="welcome-title">Selamat Datang di Store Nadreth</h1>
                    <p class="welcome-motto">Lakukan pembayaran dengan mudah dan cepat</p>
                    <div class="welcome-actions">
                        <button class="btn btn-primary" id="viewProductsBtn">Lihat Produk</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Page -->
        <section id="products" class="page">
            <div class="container">
                <h2>LIST PRODUK Nadreth</h2>
                <div class="products-grid" id="productsGrid">
                    <!-- Products will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Payment Page -->
        <section id="payment" class="page">
            <div class="container">
                <div class="payment-container">
                    <h2>Metode Pembayaran</h2>
                    
                    <!-- Order Summary -->
                    <div class="order-summary" id="orderSummary">
                        <!-- Order details will be dynamically added here -->
                    </div>

                    <!-- Discount Section -->
                    <div class="discount-section">
                        <h3>Gunakan Kode Diskon</h3>
                        <div class="discount-input-group">
                            <input type="text" id="discountCodeInput" placeholder="Masukkan kode diskon">
                            <button class="btn btn-primary" id="applyDiscountBtn">Gunakan</button>
                        </div>
                        <div class="discount-info" id="discountInfo">
                            <!-- Discount info will be shown here -->
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="payment-methods" id="paymentMethods">
                        <!-- Payment methods will be dynamically added here -->
                    </div>
                    
                    <div class="payment-actions">
                        <button class="btn btn-secondary" id="backToProducts">Kembali ke Produk</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>© 2025 code by Nadreth</p>
        </div>
    </footer>

    <!-- Profile Modal -->
    <div class="overlay" id="profileModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Akun</h3>
                <button class="close-btn" id="closeProfileModal">&times;</button>
            </div>
            <div class="account-type">
                <div class="account-option active" id="publicAccount">
                    <h4>Akun Publik</h4>
                    <p>Akses standar untuk pembeli</p>
                </div>
                <div class="account-option" id="developerAccount">
                    <h4>Akun Developer</h4>
                    <p>Login untuk akses developer</p>
                </div>
            </div>
            <div id="publicView">
                <p>Anda sedang menggunakan akun publik. Untuk akses fitur developer, silakan login.</p>
                <div class="form-group">
                    <button class="btn btn-primary" id="loginDeveloperBtn">Login Akun Developer</button>
                </div>
            </div>
            <div id="developerView" style="display: none;">
                <div class="form-group">
                    <label for="devUsername">Username</label>
                    <input type="text" id="devUsername" class="form-control" placeholder="Masukkan username">
                    <div class="error-message" id="usernameError"></div>
                </div>
                <div class="form-group">
                    <label for="devPassword">Password</label>
                    <input type="password" id="devPassword" class="form-control" placeholder="Masukkan password">
                    <div class="error-message" id="passwordError"></div>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary" id="loginBtn">Login</button>
                    <button class="btn btn-secondary" id="logoutDeveloperBtn" style="display: none;">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Developer Dashboard Modal -->
    <div class="overlay" id="developerModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Dashboard Developer</h3>
                <button class="close-btn" id="closeDeveloperModal">&times;</button>
            </div>
            <div class="developer-actions">
                <button class="btn btn-primary" id="createDiscountBtn">Buat Kode Diskon</button>
                <button class="btn btn-secondary" id="backFromDeveloper">Kembali</button>
            </div>
            <div class="discount-list" id="discountList">
                <!-- Discount codes will be listed here -->
            </div>
        </div>
    </div>

    <!-- Create Discount Modal -->
    <div class="overlay" id="discountModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Buat Kode Diskon</h3>
                <button class="close-btn" id="closeDiscountModal">&times;</button>
            </div>
            <div class="form-group">
                <label for="discountCode">Kode Diskon</label>
                <input type="text" id="discountCode" class="form-control" placeholder="Masukkan kode diskon">
            </div>
            <div class="form-group">
                <label for="discountValue">Nilai Diskon (%)</label>
                <input type="number" id="discountValue" class="form-control" min="1" max="100" placeholder="Persentase diskon">
            </div>
            <div class="form-group">
                <label for="applicableProducts">Produk yang Berlaku</label>
                <select id="applicableProducts" class="form-control" multiple>
                    <!-- Products will be dynamically added here -->
                </select>
                <small>Gunakan Ctrl untuk memilih beberapa produk</small>
            </div>
            <div class="form-group">
                <label for="expiryDate">Tanggal Kadaluwarsa</label>
                <input type="date" id="expiryDate" class="form-control">
            </div>
            <div class="form-group">
                <button class="btn btn-primary" id="saveDiscountBtn">Simpan Kode Diskon</button>
                <button class="btn btn-secondary" id="cancelDiscountBtn">Batal</button>
            </div>
        </div>
    </div>

    <!-- Payment Details Modal -->
    <div class="overlay" id="paymentModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Detail Pembayaran</h3>
                <button class="close-btn" id="closePaymentModal">&times;</button>
            </div>
            <div id="paymentDetailsContent">
                <!-- Payment details will be dynamically added here -->
            </div>
            <div class="payment-timer">
                <p>Selesaikan pembayaran dalam: <span class="timer" id="paymentTimer">05:00</span></p>
            </div>
            <div class="payment-actions">
                <button class="btn btn-primary" id="alreadyPaidBtn">Sudah Bayar</button>
                <button class="btn btn-secondary" id="backFromPayment">Kembali</button>
            </div>
        </div>
    </div>

    <script>
        // Data produk dengan gambar dari link eksternal
        const products = [
            {
                id: 1,
                name: "Nokos Indo",
                price: 8000,
                benefits: ["buat promosi", "buat bot wa", "buat jb/store", "buat sender bug", "buat ngeban whatsapp"],
                image: "https://ar-hosting.pages.dev/1759717538171.jpg"
            },
            {
                id: 2,
                name: "Murunban",
                price: 20000,
                benefits: ["ʙɪsᴀ ᴜɴʙᴀɴ ɴᴏᴍᴏʀ ʟᴜ", "ʙɪsᴀ ʙᴜᴋᴀ ᴊᴀsᴀ ᴜɴʙᴀɴ", "ʙɪsᴀ ᴜɴʙᴀɴ ᴀʟʟ ᴏᴘsɪ (ᴘᴇʀᴍᴀ, ʙᴀᴛᴜ, ʟᴜᴍᴜᴛ, ʜᴀʀᴅ, ғʀᴇsʜ ᴅʟʟ)", "ᴅᴀᴘᴀᴛ ᴛᴜᴛᴏʀɪᴀʟ", "ᴅᴀᴘᴀᴛ ᴛᴇxᴛ ᴜɴʙᴀɴ"],
                image: "https://ar-hosting.pages.dev/1759511188797.jpg"
            },
            {
                id: 3,
                name: "Murlogo",
                price: 10000,
                benefits: ["bisa buat logo", "bisa buat poster", "bisa buat iklan", "bisa buat foto profil", "bisa open design seperti logo, poster, iklan, foto profil dll", "dapat all apk editing (am, pixelab dll)", "dapat tutorial", "full mentahan yang nambah setiap hari", "all mentahan"],
                image: "https://ar-hosting.pages.dev/1759718177485.jpg"
            },
            {
                id: 4,
                name: "Noktel",
                price: 10000,
                benefits: ["punya noktel lain", "buat jb/store", "buat noktel cadangan", "buat nyimpan sesuatu secara rahasia"],
                image: "https://ar-hosting.pages.dev/1759727922870.jpg"
            },
            {
                id: 5,
                name: "Rename SC",
                price: 10000,
                benefits: ["rename sampe akar akar", "bebas request mau rename sc apa", "SC seperti milik lu sendiri setelah di rename"],
                image: "https://ar-hosting.pages.dev/1759759417079.jpg"
            },
            {
                id: 6,
                name: "Murnokos",
                price: 10000,
                benefits: ["Dikasih web Nokos murmer parah", " Dikasih bot Nokos gratis (wajib tele)", " Bisa jual nokos sendiri", " Bisa open Murnokos lagi", " Bisa create Nokos sepuas nya"],
                image: "https://ar-hosting.pages.dev/1759838223241.jpg"
            },
            {
                id: 7,
                name: "Paid Edit",
                price: 20000,
                benefits: [" Edit sesuai request-an", " Bisa edit JJ", " Bisa edit Poster", " Bisa edit Gfx", " Bisa edit Logo", " Bisa edit Logo animasi", " Harga tergantung requestan"

],
                image: "https://ar-hosting.pages.dev/1759850919775.jpg"
            },
            {
                id: 8,
                name: "Jasa Pembuatan Website",
                price: 30000,
                benefits: ["Pembuatan Website full Request(harga bisa berubah tergantung requestan)"],
                image: "https://ar-hosting.pages.dev/1759838866429.jpg"
            },
            {
                id: 9,
                name: "comingsoon",
                price: 0,
                benefits: ["comingsoon"],
                image: "https://ar-hosting.pages.dev/1756913721558.jpg"
            },
            {
                id: 10,
                name: "coming soon",
                price: 0,
                benefits: ["comingsoon"],
                image: "https://ar-hosting.pages.dev/1756913721559.jpg"
            }
        ];

        // Data metode pembayaran
        const paymentMethods = [
            {
                id: "qris",
                name: "QRIS Payment",
                number: null,
                qrCode: "https://ar-hosting.pages.dev/1756913721550.jpg",
                available: true
            },
            {
                id: "dana",
                name: "DANA",
                number: "089502396168",
                qrCode: null,
                available: true
            },
            {
                id: "gopay",
                name: "Gopay",
                number: "08979240985",
                qrCode: null,
                available: true
            },
            {
                id: "ovo",
                name: "OVO",
                number: "089502396168",
                qrCode: null,
                available: true
            }
        ];

        // State aplikasi
        let currentPage = "welcome";
        let isDarkTheme = false;
        let isDeveloperMode = false;
        let selectedProduct = null;
        let selectedPaymentMethod = null;
        let paymentTimer = null;
        let timeLeft = 300; // 5 menit dalam detik
        let discountCodes = [];
        let appliedDiscount = null;

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const themeToggle = document.getElementById('themeToggle');
        const profileBtn = document.getElementById('profileBtn');
        const profileModal = document.getElementById('profileModal');
        const closeProfileModal = document.getElementById('closeProfileModal');
        const publicAccount = document.getElementById('publicAccount');
        const developerAccount = document.getElementById('developerAccount');
        const publicView = document.getElementById('publicView');
        const developerView = document.getElementById('developerView');
        const loginDeveloperBtn = document.getElementById('loginDeveloperBtn');
        const loginBtn = document.getElementById('loginBtn');
        const logoutDeveloperBtn = document.getElementById('logoutDeveloperBtn');
        const developerModal = document.getElementById('developerModal');
        const closeDeveloperModal = document.getElementById('closeDeveloperModal');
        const createDiscountBtn = document.getElementById('createDiscountBtn');
        const backFromDeveloper = document.getElementById('backFromDeveloper');
        const discountModal = document.getElementById('discountModal');
        const closeDiscountModal = document.getElementById('closeDiscountModal');
        const saveDiscountBtn = document.getElementById('saveDiscountBtn');
        const cancelDiscountBtn = document.getElementById('cancelDiscountBtn');
        const paymentModal = document.getElementById('paymentModal');
        const closePaymentModal = document.getElementById('closePaymentModal');
        const alreadyPaidBtn = document.getElementById('alreadyPaidBtn');
        const backFromPayment = document.getElementById('backFromPayment');
        const backToProducts = document.getElementById('backToProducts');
        const productsGrid = document.getElementById('productsGrid');
        const paymentMethodsContainer = document.getElementById('paymentMethods');
        const paymentDetailsContent = document.getElementById('paymentDetailsContent');
        const paymentTimerElement = document.getElementById('paymentTimer');
        const discountList = document.getElementById('discountList');
        const applicableProductsSelect = document.getElementById('applicableProducts');
        const viewProductsBtn = document.getElementById('viewProductsBtn');
        const cloudBg = document.getElementById('cloudBg');
        const usernameError = document.getElementById('usernameError');
        const passwordError = document.getElementById('passwordError');
        const orderSummary = document.getElementById('orderSummary');
        const discountCodeInput = document.getElementById('discountCodeInput');
        const applyDiscountBtn = document.getElementById('applyDiscountBtn');
        const discountInfo = document.getElementById('discountInfo');
        const notificationContainer = document.getElementById('notificationContainer');

        // Notification System
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div>${message}</div>
            `;
            
            notificationContainer.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // Inisialisasi aplikasi
        function init() {
            renderProducts();
            setupEventListeners();
            loadDiscountCodes();
            populateApplicableProducts();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigasi
            viewProductsBtn.addEventListener('click', (e) => {
                e.preventDefault();
                navigateTo('products');
            });

            // Toggle tema
            themeToggle.addEventListener('click', toggleTheme);

            // Modal profil
            profileBtn.addEventListener('click', () => {
                profileModal.style.display = 'flex';
            });

            closeProfileModal.addEventListener('click', () => {
                profileModal.style.display = 'none';
            });

            // Pilihan akun
            publicAccount.addEventListener('click', () => {
                publicAccount.classList.add('active');
                developerAccount.classList.remove('active');
                publicView.style.display = 'block';
                developerView.style.display = 'none';
                isDeveloperMode = false;
            });

            developerAccount.addEventListener('click', () => {
                developerAccount.classList.add('active');
                publicAccount.classList.remove('active');
                publicView.style.display = 'none';
                developerView.style.display = 'block';
            });

            // Login developer
            loginDeveloperBtn.addEventListener('click', () => {
                developerAccount.click();
            });

            loginBtn.addEventListener('click', () => {
                const username = document.getElementById('devUsername').value;
                const password = document.getElementById('devPassword').value;
                
                // Reset error messages
                usernameError.style.display = 'none';
                passwordError.style.display = 'none';
                
                let isValid = true;
                
                if (username !== 'Nadreth hosting') {
                    usernameError.textContent = 'Username salah';
                    usernameError.style.display = 'block';
                    isValid = false;
                }
                
                if (password !== '210108') {
                    passwordError.textContent = 'Password salah';
                    passwordError.style.display = 'block';
                    isValid = false;
                }
                
                if (isValid) {
                    isDeveloperMode = true;
                    loginBtn.style.display = 'none';
                    logoutDeveloperBtn.style.display = 'inline-block';
                    profileModal.style.display = 'none';
                    showNotification('Login berhasil! Anda sekarang dalam mode developer.', 'success');
                }
            });

            logoutDeveloperBtn.addEventListener('click', () => {
                isDeveloperMode = false;
                loginBtn.style.display = 'inline-block';
                logoutDeveloperBtn.style.display = 'none';
                document.getElementById('devUsername').value = '';
                document.getElementById('devPassword').value = '';
                publicAccount.click();
                showNotification('Anda telah logout dari mode developer.', 'info');
            });

            // Modal developer
            createDiscountBtn.addEventListener('click', () => {
                developerModal.style.display = 'none';
                discountModal.style.display = 'flex';
            });

            closeDeveloperModal.addEventListener('click', () => {
                developerModal.style.display = 'none';
            });

            backFromDeveloper.addEventListener('click', () => {
                developerModal.style.display = 'none';
                profileModal.style.display = 'flex';
            });

            // Modal diskon
            closeDiscountModal.addEventListener('click', () => {
                discountModal.style.display = 'none';
                developerModal.style.display = 'flex';
            });

            saveDiscountBtn.addEventListener('click', saveDiscountCode);
            cancelDiscountBtn.addEventListener('click', () => {
                discountModal.style.display = 'none';
                developerModal.style.display = 'flex';
            });

            // Apply discount
            applyDiscountBtn.addEventListener('click', applyDiscount);
            discountCodeInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    applyDiscount();
                }
            });

            // Modal pembayaran
            closePaymentModal.addEventListener('click', () => {
                paymentModal.style.display = 'none';
                clearInterval(paymentTimer);
            });

            alreadyPaidBtn.addEventListener('click', () => {
                if (selectedProduct && selectedPaymentMethod) {
                    const productName = selectedProduct.name;
                    const phoneNumber = "6283179098786";
                    const message = `bang saya sudah beli ${productName}, ini saya kirim bukti nya.`;
                    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                    window.open(whatsappUrl, '_blank');
                }
                paymentModal.style.display = 'none';
                clearInterval(paymentTimer);
            });

            backFromPayment.addEventListener('click', () => {
                paymentModal.style.display = 'none';
                clearInterval(paymentTimer);
            });

            // Kembali ke produk
            backToProducts.addEventListener('click', () => {
                navigateTo('products');
            });

            // Klik di luar modal untuk menutup
            window.addEventListener('click', (e) => {
                if (e.target === profileModal) {
                    profileModal.style.display = 'none';
                }
                if (e.target === developerModal) {
                    developerModal.style.display = 'none';
                }
                if (e.target === discountModal) {
                    discountModal.style.display = 'none';
                    developerModal.style.display = 'flex';
                }
                if (e.target === paymentModal) {
                    paymentModal.style.display = 'none';
                    clearInterval(paymentTimer);
                }
            });
        }

        // Navigasi antar halaman
        function navigateTo(page) {
            pages.forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            currentPage = page;
            
            // Scroll ke atas
            window.scrollTo(0, 0);
        }

        // Toggle tema gelap/terang
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            document.body.classList.toggle('dark-theme', isDarkTheme);
            
            if (isDarkTheme) {
                cloudBg.style.display = 'none';
            } else {
                cloudBg.style.display = 'block';
            }
        }

        // Render produk dengan gambar
        function renderProducts() {
            productsGrid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <i class="fas fa-box placeholder-icon" style="display: none;"></i>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-price">${product.price === 0 ? 'Coming Soon' : 'Rp ' + product.price.toLocaleString('id-ID')}</p>
                        <div class="product-benefits">
                            <ul>
                                ${product.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary buy-btn" data-id="${product.id}" ${product.price === 0 ? 'disabled' : ''}>${product.price === 0 ? 'Coming Soon' : 'Beli Sekarang'}</button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Event listener untuk tombol beli
            document.querySelectorAll('.buy-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    if (e.target.disabled) return;
                    
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    selectedProduct = products.find(p => p.id === productId);
                    appliedDiscount = null; // Reset discount saat pilih produk baru
                    navigateTo('payment');
                    renderOrderSummary();
                    renderPaymentMethods();
                });
            });
        }

        // Render order summary
        function renderOrderSummary() {
            if (!selectedProduct) return;
            
            const originalPrice = selectedProduct.price;
            const discountAmount = appliedDiscount ? (originalPrice * appliedDiscount.value) / 100 : 0;
            const finalPrice = originalPrice - discountAmount;
            
            orderSummary.innerHTML = `
                <h3>Ringkasan Pesanan</h3>
                <div style="margin-top: 15px;">
                    <p><strong>Produk:</strong> ${selectedProduct.name}</p>
                    <p><strong>Harga:</strong> Rp ${originalPrice.toLocaleString('id-ID')}</p>
                    ${appliedDiscount ? `
                        <p><strong>Diskon (${appliedDiscount.value}%):</strong> -Rp ${discountAmount.toLocaleString('id-ID')}</p>
                        <p style="font-size: 1.2rem; font-weight: bold; color: var(--success-color); margin-top: 10px;">
                            <strong>Total:</strong> Rp ${finalPrice.toLocaleString('id-ID')}
                        </p>
                    ` : `
                        <p style="font-size: 1.2rem; font-weight: bold; margin-top: 10px;">
                            <strong>Total:</strong> Rp ${finalPrice.toLocaleString('id-ID')}
                        </p>
                    `}
                </div>
            `;
        }

        // Render metode pembayaran
        function renderPaymentMethods() {
            paymentMethodsContainer.innerHTML = '';
            
            paymentMethods.forEach(method => {
                const paymentMethod = document.createElement('div');
                paymentMethod.className = `payment-method ${method.available ? '' : 'unavailable'}`;
                paymentMethod.setAttribute('data-id', method.id);
                
                paymentMethod.innerHTML = `
                    <div class="payment-header">
                        <div class="payment-logo">
                            <i class="fas fa-${method.id === 'qris' ? 'qrcode' : 'mobile-alt'}"></i>
                        </div>
                        <div class="payment-name">
                            ${method.name} ${method.available ? '' : '(TIDAK TERSEDIA)'}
                        </div>
                    </div>
                    <div class="payment-details">
                        ${method.qrCode ? 
                            `<div class="payment-qr">
                                <p>Scan QR Code berikut:</p>
                                <div class="qr-code">
                                    <img src="${method.qrCode}" alt="QR Code">
                                </div>
                            </div>` : 
                            ''
                        }
                        ${method.number ? 
                            `<div class="payment-number">
                                <span>${method.number}</span>
                                <button class="copy-btn" data-number="${method.number}">Salin</button>
                            </div>` : 
                            ''
                        }
                    </div>
                `;
                
                paymentMethodsContainer.appendChild(paymentMethod);
                
                // Event listener untuk metode pembayaran
                if (method.available) {
                    paymentMethod.addEventListener('click', () => {
                        document.querySelectorAll('.payment-method').forEach(pm => {
                            pm.classList.remove('active');
                            pm.querySelector('.payment-details').classList.remove('active');
                        });
                        
                        paymentMethod.classList.add('active');
                        paymentMethod.querySelector('.payment-details').classList.add('active');
                        selectedPaymentMethod = method;
                        
                        // Tampilkan modal pembayaran
                        showPaymentModal();
                    });
                }
                
                // Event listener untuk tombol salin
                const copyBtn = paymentMethod.querySelector('.copy-btn');
                if (copyBtn) {
                    copyBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const number = copyBtn.getAttribute('data-number');
                        navigator.clipboard.writeText(number).then(() => {
                            showNotification('Nomor berhasil disalin!', 'success');
                        });
                    });
                }
            });
        }

        // Apply discount code
        function applyDiscount() {
            const code = discountCodeInput.value.trim();
            
            if (!code) {
                discountInfo.textContent = 'Masukkan kode diskon terlebih dahulu';
                discountInfo.className = 'discount-info error active';
                return;
            }
            
            const discount = discountCodes.find(d => 
                d.code.toLowerCase() === code.toLowerCase() && 
                !isDiscountExpired(d)
            );
            
            if (!discount) {
                discountInfo.textContent = 'Kode diskon tidak valid atau sudah kadaluwarsa';
                discountInfo.className = 'discount-info error active';
                return;
            }
            
            // Check if discount applies to selected product
            if (!discount.applicableProducts.includes(selectedProduct.id)) {
                discountInfo.textContent = 'Kode diskon tidak berlaku untuk produk ini';
                discountInfo.className = 'discount-info error active';
                return;
            }
            
            appliedDiscount = discount;
            renderOrderSummary();
            
            discountInfo.innerHTML = `
                Kode diskon <strong>${discount.code}</strong> berhasil diterapkan! 
                Anda mendapatkan diskon ${discount.value}%.
            `;
            discountInfo.className = 'discount-info active';
            
            showNotification(`Diskon ${discount.value}% berhasil diterapkan!`, 'success');
            discountCodeInput.value = '';
        }

        // Check if discount is expired
        function isDiscountExpired(discount) {
            const now = new Date();
            const expiryDate = new Date(discount.expiryDate);
            return now > expiryDate;
        }

        // Tampilkan modal pembayaran
        function showPaymentModal() {
            if (!selectedProduct || !selectedPaymentMethod) return;
            
            const originalPrice = selectedProduct.price;
            const discountAmount = appliedDiscount ? (originalPrice * appliedDiscount.value) / 100 : 0;
            const finalPrice = originalPrice - discountAmount;
            
            paymentDetailsContent.innerHTML = '';
            
            let content = `
                <p>Anda akan membeli: <strong>${selectedProduct.name}</strong></p>
                <p>Harga: <strong>Rp ${originalPrice.toLocaleString('id-ID')}</strong></p>
                ${appliedDiscount ? `
                    <p>Diskon: <strong>${appliedDiscount.value}% (-Rp ${discountAmount.toLocaleString('id-ID')})</strong></p>
                    <p style="font-size: 1.1rem; font-weight: bold; color: var(--success-color);">
                        Total: <strong>Rp ${finalPrice.toLocaleString('id-ID')}</strong>
                    </p>
                ` : ''}
                <div class="payment-header">
                    <div class="payment-logo">
                        <i class="fas fa-${selectedPaymentMethod.id === 'qris' ? 'qrcode' : 'mobile-alt'}"></i>
                    </div>
                    <div class="payment-name">
                        ${selectedPaymentMethod.name}
                    </div>
                </div>
            `;
            
            if (selectedPaymentMethod.qrCode) {
                content += `
                    <div class="payment-qr">
                        <p>Scan QR Code berikut:</p>
                        <div class="qr-code">
                            <img src="${selectedPaymentMethod.qrCode}" alt="QR Code">
                        </div>
                    </div>
                `;
            }
            
            if (selectedPaymentMethod.number) {
                content += `
                    <div class="payment-number">
                        <span>${selectedPaymentMethod.number}</span>
                        <button class="copy-btn" id="copyPaymentNumber">Salin</button>
                    </div>
                `;
            }
            
            paymentDetailsContent.innerHTML = content;
            
            // Event listener untuk tombol salin di modal
            const copyPaymentNumber = document.getElementById('copyPaymentNumber');
            if (copyPaymentNumber) {
                copyPaymentNumber.addEventListener('click', () => {
                    navigator.clipboard.writeText(selectedPaymentMethod.number).then(() => {
                        showNotification('Nomor berhasil disalin!', 'success');
                    });
                });
            }
            
            // Mulai timer
            startPaymentTimer();
            
            // Tampilkan modal
            paymentModal.style.display = 'flex';
        }

        // Mulai timer pembayaran
        function startPaymentTimer() {
            timeLeft = 300; // Reset ke 5 menit
            updateTimerDisplay();
            
            if (paymentTimer) {
                clearInterval(paymentTimer);
            }
            
            paymentTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(paymentTimer);
                    showNotification('Waktu pembayaran telah habis. Silakan pilih metode pembayaran lagi.', 'warning');
                    paymentModal.style.display = 'none';
                }
            }, 1000);
        }

        // Update tampilan timer
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            paymentTimerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Load kode diskon dari localStorage
        function loadDiscountCodes() {
            const savedCodes = localStorage.getItem('discountCodes');
            if (savedCodes) {
                discountCodes = JSON.parse(savedCodes);
                renderDiscountCodes();
            }
        }

        // Render daftar kode diskon
        function renderDiscountCodes() {
            discountList.innerHTML = '';
            
            if (discountCodes.length === 0) {
                discountList.innerHTML = '<p>Belum ada kode diskon.</p>';
                return;
            }
            
            discountCodes.forEach((code, index) => {
                const discountItem = document.createElement('div');
                discountItem.className = 'discount-item';
                
                const now = new Date();
                const expiryDate = new Date(code.expiryDate);
                const isExpired = now > expiryDate;
                
                discountItem.innerHTML = `
                    <div class="discount-header">
                        <span class="discount-code">${code.code}</span>
                        <span style="color: ${isExpired ? 'red' : 'green'}">${isExpired ? 'Kadaluwarsa' : 'Aktif'}</span>
                    </div>
                    <div class="discount-details">
                        <div><strong>Diskon:</strong> ${code.value}%</div>
                        <div><strong>Berlaku untuk:</strong> ${code.applicableProducts.length} produk</div>
                        <div><strong>Kadaluwarsa:</strong> ${formatDate(code.expiryDate)}</div>
                    </div>
                    <button class="btn btn-primary delete-discount" data-index="${index}">Hapus</button>
                `;
                
                discountList.appendChild(discountItem);
            });
            
            // Event listener untuk tombol hapus
            document.querySelectorAll('.delete-discount').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.getAttribute('data-index'));
                    deleteDiscountCode(index);
                });
            });
        }

        // Format tanggal
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('id-ID', options);
        }

        // Hapus kode diskon
        function deleteDiscountCode(index) {
            discountCodes.splice(index, 1);
            localStorage.setItem('discountCodes', JSON.stringify(discountCodes));
            renderDiscountCodes();
            showNotification('Kode diskon berhasil dihapus', 'success');
        }

        // Populate produk yang berlaku untuk diskon
        function populateApplicableProducts() {
            applicableProductsSelect.innerHTML = '';
            
            products.forEach(product => {
                const option = document.createElement('option');
                option.value = product.id;
                option.textContent = product.name;
                applicableProductsSelect.appendChild(option);
            });
        }

        // Simpan kode diskon
        function saveDiscountCode() {
            const code = document.getElementById('discountCode').value;
            const value = parseInt(document.getElementById('discountValue').value);
            const expiryDate = document.getElementById('expiryDate').value;
            const selectedOptions = Array.from(applicableProductsSelect.selectedOptions).map(option => parseInt(option.value));
            
            if (!code || !value || !expiryDate || selectedOptions.length === 0) {
                showNotification('Harap isi semua field!', 'error');
                return;
            }
            
            const newDiscount = {
                code,
                value,
                expiryDate,
                applicableProducts: selectedOptions
            };
            
            discountCodes.push(newDiscount);
            localStorage.setItem('discountCodes', JSON.stringify(discountCodes));
            
            showNotification('Kode diskon berhasil disimpan!', 'success');
            discountModal.style.display = 'none';
            developerModal.style.display = 'flex';
            renderDiscountCodes();
            
            // Reset form
            document.getElementById('discountCode').value = '';
            document.getElementById('discountValue').value = '';
            document.getElementById('expiryDate').value = '';
            applicableProductsSelect.selectedIndex = -1;
        }

        // Event listener untuk profil button (untuk developer)
        profileBtn.addEventListener('click', () => {
            if (isDeveloperMode) {
                developerModal.style.display = 'flex';
                renderDiscountCodes();
            } else {
                profileModal.style.display = 'flex';
            }
        });

        // Inisialisasi aplikasi
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
