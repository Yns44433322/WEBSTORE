<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NADRETH HOSTING</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            overflow-x: hidden;
            max-width: 100vw;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scroll-padding-top: 20px;
            overscroll-behavior: smooth;
        }
        
        * {
            box-sizing: border-box;
        }
        
        html {
            overflow-x: hidden;
            scroll-behavior: smooth;
            scroll-padding-top: 20px;
        }
        
        /* Ultra smooth scrolling - 120Hz feel */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, rgba(33, 150, 243, 0.6), rgba(33, 150, 243, 0.8));
            border-radius: 10px;
            border: 2px solid transparent;
            background-clip: content-box;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, rgba(33, 150, 243, 0.8), rgba(33, 150, 243, 1));
            transform: scale(1.1);
        }
        
        ::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, rgba(25, 118, 210, 0.9), rgba(25, 118, 210, 1));
        }
        
        /* Light theme scrollbar */
        .light-theme ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .light-theme ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, rgba(33, 150, 243, 0.7), rgba(25, 118, 210, 0.9));
            box-shadow: 0 2px 10px rgba(33, 150, 243, 0.3);
        }
        
        .light-theme ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, rgba(25, 118, 210, 0.9), rgba(21, 101, 192, 1));
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.5);
        }
        
        /* Ultra smooth button improvements */
        button {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            will-change: transform, box-shadow, background;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }
        
        button:hover {
            transform: translateY(-3px) translateZ(0);
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        button:active {
            transform: translateY(-1px) translateZ(0);
            transition: all 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Enhanced smooth transitions for all interactive elements */
        a, input, textarea, select {
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform, box-shadow, background, border-color;
        }
        
        /* Card hover improvements */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform, box-shadow;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        
        .card-hover:hover {
            transform: translateY(-6px) translateZ(0);
        }
        
        /* Light theme - Beautiful sky blue with clouds */
        .light-theme {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 25%, #81d4fa 50%, #4fc3f7 75%, #29b6f6 100%) !important;
            color: #0d47a1 !important;
            position: relative;
            min-height: 100vh;
        }
        
        /* Light theme modal styles */
        .light-theme #confirmModal .bg-gray-800,
        .light-theme #alertModal .bg-gray-800,
        .light-theme #promptModal .bg-gray-800 {
            background: rgba(255, 255, 255, 0.95) !important;
            color: #0d47a1 !important;
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 70px rgba(33, 150, 243, 0.3), 0 10px 30px rgba(255, 255, 255, 0.6) inset !important;
        }
        
        .light-theme #confirmModal h3,
        .light-theme #alertModal h3,
        .light-theme #promptModal h3 {
            color: #0d47a1 !important;
        }
        
        .light-theme #confirmModal p,
        .light-theme #alertModal p,
        .light-theme #promptModal p {
            color: #1565c0 !important;
        }
        
        .light-theme #promptInput {
            background: rgba(255, 255, 255, 0.8) !important;
            color: #0d47a1 !important;
            border-color: rgba(33, 150, 243, 0.3) !important;
        }
        
        .light-theme #promptInput:focus {
            border-color: #2196f3 !important;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1) !important;
        }
        
        .light-theme::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 15% 20%, rgba(255, 255, 255, 0.8) 0%, transparent 40%),
                radial-gradient(ellipse at 85% 30%, rgba(255, 255, 255, 0.6) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 70%, rgba(255, 255, 255, 0.7) 0%, transparent 45%),
                radial-gradient(ellipse at 70% 80%, rgba(255, 255, 255, 0.5) 0%, transparent 35%),
                radial-gradient(ellipse at 25% 60%, rgba(144, 202, 249, 0.3) 0%, transparent 60%),
                radial-gradient(ellipse at 90% 10%, rgba(187, 222, 251, 0.4) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            animation: cloudFloat 20s ease-in-out infinite;
        }
        
        @keyframes cloudFloat {
            0%, 100% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(10px) translateY(-5px); }
            50% { transform: translateX(-5px) translateY(10px); }
            75% { transform: translateX(15px) translateY(5px); }
        }
        
        .light-theme .bg-gray-800 {
            background: rgba(255, 255, 255, 0.9) !important;
            color: #0d47a1 !important;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(33, 150, 243, 0.3) !important;
            box-shadow: 0 15px 50px rgba(33, 150, 243, 0.2), 0 5px 20px rgba(255, 255, 255, 0.8) inset !important;
        }
        
        .light-theme #accountMenu {
            background: rgba(255, 255, 255, 0.95) !important;
            color: #0d47a1 !important;
            border: 2px solid #2196f3 !important;
            box-shadow: 0 25px 70px rgba(33, 150, 243, 0.3), 0 10px 30px rgba(255, 255, 255, 0.6) inset !important;
            backdrop-filter: blur(25px) !important;
        }
        
        .light-theme #accountMenu button {
            color: #0d47a1 !important;
        }
        
        .light-theme #accountMenu button:hover {
            background: rgba(33, 150, 243, 0.2) !important;
            color: #1565c0 !important;
        }
        
        .light-theme #accountMenu .bg-gradient-to-r {
            background: linear-gradient(to right, #2196f3, #03a9f4) !important;
        }
        
        .light-theme .bg-gray-700 {
            background: rgba(255, 255, 255, 0.85) !important;
            color: #0d47a1 !important;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(33, 150, 243, 0.25) !important;
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.15), 0 3px 15px rgba(255, 255, 255, 0.7) inset !important;
        }
        
        .light-theme .bg-gray-600 {
            background: linear-gradient(145deg, #2196f3, #1976d2) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-gray-600:hover {
            background: linear-gradient(145deg, #1976d2, #1565c0) !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        .light-theme .text-gray-300 {
            color: #1565c0 !important;
        }
        
        .light-theme .text-gray-400 {
            color: #1976d2 !important;
        }
        
        .light-theme .text-white {
            color: #0d47a1 !important;
        }
        
        .light-theme .border-white {
            border-color: #2196f3 !important;
        }
        
        /* Button improvements for light theme */
        .light-theme button {
            font-weight: 600 !important;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.2), 0 2px 8px rgba(255, 255, 255, 0.5) inset !important;
        }
        
        .light-theme .bg-blue-600 {
            background: linear-gradient(145deg, #2196f3, #1976d2) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-blue-600:hover {
            background: linear-gradient(145deg, #1976d2, #1565c0) !important;
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        .light-theme .bg-green-600 {
            background: linear-gradient(145deg, #4caf50, #388e3c) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-green-600:hover {
            background: linear-gradient(145deg, #388e3c, #2e7d32) !important;
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        .light-theme .bg-red-600 {
            background: linear-gradient(145deg, #f44336, #d32f2f) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-red-600:hover {
            background: linear-gradient(145deg, #d32f2f, #c62828) !important;
            box-shadow: 0 8px 25px rgba(244, 67, 54, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        .light-theme .bg-purple-600 {
            background: linear-gradient(145deg, #9c27b0, #7b1fa2) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-purple-600:hover {
            background: linear-gradient(145deg, #7b1fa2, #6a1b9a) !important;
            box-shadow: 0 8px 25px rgba(156, 39, 176, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        .light-theme .bg-yellow-500 {
            background: linear-gradient(145deg, #ff9800, #f57c00) !important;
            color: #ffffff !important;
            border: none !important;
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.4), 0 2px 10px rgba(255, 255, 255, 0.3) inset !important;
        }
        
        .light-theme .bg-yellow-500:hover {
            background: linear-gradient(145deg, #f57c00, #ef6c00) !important;
            box-shadow: 0 8px 25px rgba(255, 152, 0, 0.5), 0 3px 15px rgba(255, 255, 255, 0.4) inset !important;
        }
        
        /* Dark theme - Luxury red-black-blue modern premium */
        body:not(.light-theme) {
            background: linear-gradient(135deg, #0f0f23 0%, #1a0b1a 25%, #0d1b2a 50%, #1e1b4b 75%, #0f172a 100%) !important;
            position: relative;
        }
        
        body:not(.light-theme)::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 25%, rgba(220, 38, 127, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 10%, rgba(239, 68, 68, 0.1) 0%, transparent 60%),
                radial-gradient(circle at 10% 90%, rgba(99, 102, 241, 0.12) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        body:not(.light-theme) .bg-gray-800 {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.9)) !important;
            border: 1px solid rgba(220, 38, 127, 0.3) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 20px rgba(220, 38, 127, 0.1) !important;
            backdrop-filter: blur(16px);
        }
        
        body:not(.light-theme) .bg-gray-700 {
            background: linear-gradient(145deg, rgba(51, 65, 85, 0.9), rgba(30, 41, 59, 0.8)) !important;
            border: 1px solid rgba(59, 130, 246, 0.2) !important;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3) !important;
        }
        
        body:not(.light-theme) .bg-gray-600 {
            background: linear-gradient(145deg, rgba(71, 85, 105, 0.95), rgba(51, 65, 85, 0.9)) !important;
            border: 1px solid rgba(148, 163, 184, 0.15) !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
        }
        
        .marquee {
            white-space: nowrap;
            overflow: hidden;
            animation: scroll 15s linear infinite;
        }
        
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .fade-in {
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        
        .timer-bar {
            animation: countdown 120s linear forwards;
        }
        
        @keyframes countdown {
            from { width: 100%; }
            to { width: 0%; }
        }
        
        /* Ultra smooth transitions for all elements */
        * {
            transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                       transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* Enhanced view transitions */
        .view-transition {
            opacity: 0;
            transform: translateY(30px) translateZ(0);
            animation: viewEnter 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            will-change: opacity, transform;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        
        @keyframes viewEnter {
            0% {
                opacity: 0;
                transform: translateY(30px) translateZ(0);
            }
            60% {
                opacity: 0.8;
                transform: translateY(-5px) translateZ(0);
            }
            100% {
                opacity: 1;
                transform: translateY(0) translateZ(0);
            }
        }
        
        /* Enhanced smooth scrolling function */
        @media (prefers-reduced-motion: no-preference) {
            html {
                scroll-behavior: smooth;
                scroll-snap-type: y proximity;
            }
            
            body {
                scroll-behavior: smooth;
                overscroll-behavior: smooth;
            }
        }
    </style>
</head>
<body class="min-h-screen text-white" style="background: linear-gradient(135deg, #0f0f23 0%, #1a0b1a 25%, #0d1b2a 50%, #1e1b4b 75%, #0f172a 100%)">
    <!-- Info Bar -->
    <div id="infoBar" class="bg-yellow-500 text-black py-2 overflow-hidden hidden">
        <div class="marquee">
            <span id="infoText"></span>
        </div>
    </div>

    <!-- Header -->
    <header class="flex justify-between items-center p-4 md:p-6 overflow-hidden">
        <div class="flex items-center space-x-2 md:space-x-4 min-w-0 flex-1">
            <div class="w-12 h-12 md:w-16 md:h-16 rounded-full border-4 border-white shadow-lg bg-gradient-to-br from-cyan-400 to-purple-600 flex items-center justify-center flex-shrink-0">
                <div class="w-8 h-8 md:w-12 md:h-12 rounded-full bg-white flex items-center justify-center overflow-hidden">
                    <img src="https://ar-hosting.pages.dev/1759059935771.jpg" alt="NH" class="w-full h-full object-cover rounded-full" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <span class="text-cyan-600 font-bold text-sm md:text-xl hidden">NH</span>
                </div>
            </div>
            <h1 class="text-lg sm:text-2xl md:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent truncate">NADRETH HOSTING</h1>
        </div>
        
        <!-- Theme Toggle and Account Menu -->
        <div class="flex items-center space-x-4">
            <button id="themeToggle" class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center hover:bg-gray-500 transition-colors">
                <svg id="themeIcon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
                </svg>
            </button>
            
            <div class="relative">
                <button id="accountBtn" class="w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center hover:bg-gray-500 transition-colors">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                
                <div id="accountMenu" class="absolute right-0 mt-2 w-56 bg-gray-800 text-white rounded-lg shadow-2xl border-2 border-cyan-400 hidden" style="z-index: 9999; position: fixed; top: 70px; right: 20px;">
                    <div class="p-4 border-b border-gray-600 bg-gradient-to-r from-cyan-600 to-purple-600 rounded-t-lg">
                        <p class="font-bold text-white text-center">üîß Menu Akun</p>
                    </div>
                    <div id="loginSection">
                        <button id="devLoginBtn" class="w-full text-left px-6 py-4 hover:bg-gray-700 transition-colors rounded-lg flex items-center space-x-3">
                            <span class="text-2xl">üë®‚Äçüíª</span>
                            <span class="font-semibold">Login Developer</span>
                        </button>
                    </div>
                    <div id="loggedInSection" class="hidden">
                        <div class="px-6 py-4 text-center">
                            <div class="flex items-center justify-center space-x-2 mb-2">
                                <span class="text-2xl">üë®‚Äçüíª</span>
                                <span class="font-semibold text-green-400">Developer Mode</span>
                            </div>
                            <p class="text-sm text-gray-300">Sudah login sebagai developer</p>
                        </div>
                        <button id="gotoDevPanelBtn" class="w-full text-left px-6 py-3 hover:bg-gray-700 transition-colors flex items-center space-x-3">
                            <span class="text-xl">‚öôÔ∏è</span>
                            <span class="font-medium">Buka Panel Developer</span>
                        </button>
                        <button id="quickLogoutBtn" class="w-full text-left px-6 py-3 hover:bg-gray-700 transition-colors flex items-center space-x-3 text-red-400">
                            <span class="text-xl">üö™</span>
                            <span class="font-medium">Logout</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 md:px-6 max-w-full overflow-hidden">
        <!-- Home View -->
        <div id="homeView" class="text-center py-20">
            <div class="mb-12">
                <div class="flex justify-center mb-6">
                    <div class="w-48 h-48 rounded-full border-8 border-white shadow-2xl bg-gradient-to-br from-cyan-400 to-purple-600 flex items-center justify-center">
                        <div class="w-40 h-40 rounded-full bg-white flex items-center justify-center overflow-hidden">
                            <img src="https://ar-hosting.pages.dev/1759059935771.jpg" alt="Nadreth Hosting Logo" class="w-full h-full object-cover rounded-full" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <span class="text-cyan-600 font-bold text-6xl hidden">NH</span>
                        </div>
                    </div>
                </div>
                <h2 class="text-4xl font-bold mb-6 bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                    STORE NADRETH HOSTING
                </h2>
                <p class="text-xl text-gray-300 mb-8">Platform hosting terpercaya untuk semua kebutuhan Anda</p>
                <button id="productListBtn" class="bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700 px-8 py-4 rounded-full text-xl font-semibold transition-all transform hover:scale-105 shadow-lg">
                    List Produk
                </button>
            </div>
        </div>

        <!-- Product List View -->
        <div id="productView" class="hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Daftar Produk</h2>
                <button id="backToHome" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg transition-colors font-medium">
                    Kembali
                </button>
            </div>
            <div id="productGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Products will be loaded here -->
            </div>
            
            <!-- WhatsApp Channel Button -->
            <div class="text-center mt-12">
                <button id="whatsappChannelBtn" class="bg-green-600 hover:bg-green-700 px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 shadow-lg">
                    üì± Saluran WhatsApp Information Nadreth
                </button>
            </div>
        </div>

        <!-- Developer Panel -->
        <div id="devPanel" class="hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Panel Developer</h2>
                <div class="flex flex-col space-y-3">
                    <button id="backToHomeFromDev" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg transition-colors font-medium">
                        Kembali
                    </button>
                    <button id="logoutBtn" class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition-colors font-medium">
                        Logout
                    </button>
                </div>
            </div>
            
            <!-- Info Management -->
            <div class="bg-gray-800 rounded-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Kelola Informasi</h3>
                <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4">
                    <input type="text" id="infoInput" placeholder="Masukkan informasi..." class="flex-1 px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <button id="setInfoBtn" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition-colors font-medium">
                        Set Info
                    </button>
                    <button id="clearInfoBtn" class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition-colors font-medium">
                        Hapus Info
                    </button>
                </div>
            </div>
            
            <!-- Add Product -->
            <div class="bg-gray-800 rounded-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Tambah Produk</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" id="productName" placeholder="Nama Produk" class="px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <input type="number" id="productPrice" placeholder="Harga" class="px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <textarea id="productBenefit" placeholder="Benefit produk..." class="px-4 py-3 bg-gray-700 rounded-lg text-white md:col-span-2" rows="3"></textarea>
                    <button id="addProductBtn" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg transition-colors font-medium md:col-span-2">
                        Tambah Produk
                    </button>
                </div>
            </div>
            
            <!-- Discount Management -->
            <div class="bg-gray-800 rounded-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Kelola Kode Diskon</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <input type="text" id="discountCode" placeholder="Kode Diskon" class="px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <input type="number" id="discountPercent" placeholder="Persentase Diskon (%)" min="1" max="100" class="px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <input type="datetime-local" id="discountExpiry" class="px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <button id="addDiscountBtn" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors font-medium">
                        Tambah Diskon
                    </button>
                </div>
                
                <div id="discountList" class="space-y-2">
                    <!-- Discount codes will be listed here -->
                </div>
            </div>
            
            <!-- Manage Products -->
            <div class="bg-gray-800 rounded-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Kelola Produk</h3>
                <div id="devProductList" class="space-y-4">
                    <!-- Dev product management will be loaded here -->
                </div>
            </div>
            
            <!-- Messages -->
            <div class="bg-gray-800 rounded-lg p-6">
                <h3 class="text-xl font-semibold mb-4">Saran dan Bantuan</h3>
                <div id="messagesList" class="space-y-2 max-h-60 overflow-y-auto">
                    <!-- Messages will appear here -->
                </div>
            </div>
        </div>

        <!-- Product Detail Modal -->
        <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 id="modalProductName" class="text-2xl font-bold"></h3>
                    <button id="closeModal" class="text-gray-400 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <p id="modalProductPrice" class="text-xl text-cyan-400 font-semibold mb-4"></p>
                <div id="modalProductBenefit" class="text-gray-300 mb-6"></div>
                <button id="buyNowBtn" class="w-full bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 py-3 rounded-lg font-semibold transition-all">
                    Beli Sekarang
                </button>
            </div>
        </div>

        <!-- Payment Modal -->
        <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6">
                <h3 class="text-2xl font-bold mb-6 text-center">Pilih Metode Pembayaran</h3>
                
                <!-- Discount Section -->
                <div class="bg-gray-700 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold mb-3">Kode Diskon</h4>
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
                        <input type="text" id="discountInput" placeholder="Masukkan kode diskon" class="flex-1 px-4 py-3 bg-gray-600 rounded-lg text-white">
                        <button id="applyDiscountBtn" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition-colors font-medium whitespace-nowrap">
                            Terapkan
                        </button>
                    </div>
                    <div id="discountStatus" class="mt-3 text-sm"></div>
                    
                    <!-- Price Display -->
                    <div class="mt-4 pt-4 border-t border-gray-600">
                        <div class="flex justify-between items-center">
                            <span>Harga Asli:</span>
                            <span id="originalPrice" class="font-semibold"></span>
                        </div>
                        <div id="discountRow" class="flex justify-between items-center text-green-400 hidden">
                            <span>Diskon:</span>
                            <span id="discountAmount"></span>
                        </div>
                        <div class="flex justify-between items-center text-lg font-bold border-t border-gray-600 pt-2 mt-2">
                            <span>Total Bayar:</span>
                            <span id="finalPrice" class="text-cyan-400"></span>
                        </div>
                    </div>
                </div>
                
                <!-- Payment Methods -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold mb-4 text-center">Payment</h4>
                    <div class="space-y-4">
                    <button class="payment-method w-full flex items-center space-x-4 p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors" data-method="dana" data-number="089502396168">
                        <img src="https://ar-hosting.pages.dev/1759062895265.jpg" alt="Dana" class="w-8 h-8" onerror="this.style.display='none'">
                        <span class="text-lg font-semibold">Dana</span>
                    </button>
                    
                    <button class="payment-method w-full flex items-center space-x-4 p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors" data-method="ovo" data-number="089502396168">
                        <img src="https://ar-hosting.pages.dev/1759062672982.jpg" alt="OVO" class="w-8 h-8" onerror="this.style.display='none'">
                        <span class="text-lg font-semibold">OVO</span>
                    </button>
                    
                    <button class="payment-method w-full flex items-center space-x-4 p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors" data-method="gopay" data-number="08979240985">
                        <img src="https://ar-hosting.pages.dev/1759062947442.jpg" alt="GoPay" class="w-8 h-8" onerror="this.style.display='none'">
                        <span class="text-lg font-semibold">GoPay</span>
                    </button>
                    
                    <button class="payment-method w-full flex items-center space-x-4 p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors" data-method="qris" data-qr="https://ar-hosting.pages.dev/1759196036891.jpg">
                        <img src="https://ar-hosting.pages.dev/1759062992641.jpg" alt="QRIS" class="w-8 h-8" onerror="this.style.display='none'">
                        <span class="text-lg font-semibold">QRIS</span>
                    </button>
                    </div>
                </div>
                
                <button id="closePayment" class="w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-colors font-medium">
                    Batal
                </button>
            </div>
        </div>

        <!-- Payment Detail Modal -->
        <div id="paymentDetailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6">
                <h3 id="paymentMethodTitle" class="text-2xl font-bold mb-4 text-center"></h3>
                
                <!-- Timer -->
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <span>Waktu tersisa:</span>
                        <span id="timer" class="font-bold text-red-400">02:00</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div id="timerBar" class="bg-red-500 h-2 rounded-full timer-bar"></div>
                    </div>
                </div>
                
                <!-- Payment Info -->
                <div id="paymentInfo" class="text-center mb-6">
                    <!-- Payment details will be shown here -->
                </div>
                
                <div class="space-y-4">
                    <button id="paidBtn" class="w-full bg-green-600 hover:bg-green-700 py-3 rounded-lg font-medium transition-colors">
                        Sudah Bayar
                    </button>
                    <button id="cancelPayment" class="w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors">
                        Batal
                    </button>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6">
                <h3 class="text-2xl font-bold mb-6 text-center">Login Developer</h3>
                <div class="space-y-4">
                    <input type="text" id="username" placeholder="Username" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <input type="password" id="password" placeholder="Password" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white">
                    <div id="loginError" class="text-red-400 text-sm text-center hidden">Username atau password salah!</div>
                    <button id="loginBtn" class="w-full bg-blue-600 hover:bg-blue-700 py-3 rounded-lg font-medium transition-colors">
                        Login
                    </button>
                    <button id="closeLogin" class="w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors">
                        Batal
                    </button>
                </div>
            </div>
        </div>

        <!-- Contact Modal -->
        <div id="contactModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6">
                <h3 class="text-2xl font-bold mb-6 text-center">Hubungi Developer</h3>
                <textarea id="contactMessage" placeholder="Tulis saran atau pertanyaan Anda..." class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white mb-4" rows="4"></textarea>
                <div class="space-y-4">
                    <button id="sendMessage" class="w-full bg-blue-600 hover:bg-blue-700 py-3 rounded-lg font-medium transition-colors">
                        Kirim Pesan
                    </button>
                    <button id="closeContact" class="w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors">
                        Batal
                    </button>
                </div>
            </div>
        </div>

        <!-- Custom Confirm Modal -->
        <div id="confirmModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6 border-2 border-cyan-400">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 id="confirmTitle" class="text-xl font-bold text-white mb-2">Konfirmasi</h3>
                    <p id="confirmMessage" class="text-gray-300"></p>
                </div>
                <div class="flex space-x-4">
                    <button id="confirmCancel" class="flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors text-white">
                        Batal
                    </button>
                    <button id="confirmOk" class="flex-1 bg-red-600 hover:bg-red-700 py-3 rounded-lg font-medium transition-colors text-white">
                        Ya, Lanjutkan
                    </button>
                </div>
            </div>
        </div>

        <!-- Custom Alert Modal -->
        <div id="alertModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6 border-2 border-blue-400">
                <div class="text-center mb-6">
                    <div id="alertIcon" class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <!-- Icon will be set dynamically -->
                    </div>
                    <h3 id="alertTitle" class="text-xl font-bold text-white mb-2">Informasi</h3>
                    <p id="alertMessage" class="text-gray-300"></p>
                </div>
                <div class="flex justify-center">
                    <button id="alertOk" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors text-white">
                        OK
                    </button>
                </div>
            </div>
        </div>

        <!-- Custom Prompt Modal -->
        <div id="promptModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6 border-2 border-purple-400">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                        </svg>
                    </div>
                    <h3 id="promptTitle" class="text-xl font-bold text-white mb-2">Input</h3>
                    <p id="promptMessage" class="text-gray-300 mb-4"></p>
                    <input type="text" id="promptInput" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white border border-gray-600 focus:border-purple-400 focus:outline-none">
                </div>
                <div class="flex space-x-4">
                    <button id="promptCancel" class="flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors text-white">
                        Batal
                    </button>
                    <button id="promptOk" class="flex-1 bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-medium transition-colors text-white">
                        OK
                    </button>
                </div>
            </div>
        </div>

        <!-- Edit Product Modal -->
        <div id="editModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg max-w-md w-full p-6 border-2 border-blue-400">
                <h3 class="text-2xl font-bold mb-6 text-center text-blue-400">Edit Produk</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Nama Produk</label>
                        <input type="text" id="editProductName" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white border border-gray-600 focus:border-blue-400 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Harga</label>
                        <input type="number" id="editProductPrice" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white border border-gray-600 focus:border-blue-400 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Benefit</label>
                        <textarea id="editProductBenefit" rows="4" class="w-full px-4 py-3 bg-gray-700 rounded-lg text-white border border-gray-600 focus:border-blue-400 focus:outline-none"></textarea>
                    </div>
                </div>
                <div class="flex space-x-4 mt-6">
                    <button id="editCancel" class="flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors text-white">
                        Batal
                    </button>
                    <button id="editSave" class="flex-1 bg-blue-600 hover:bg-blue-700 py-3 rounded-lg font-medium transition-colors text-white">
                        Simpan
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Help Button -->
    <button id="helpBtn" class="fixed bottom-6 right-6 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 rounded-full flex items-center justify-center text-black font-bold text-xl shadow-lg transition-colors z-40">
        !
    </button>

    <script>
        // State management
        let currentView = 'home';
        let isLoggedIn = false;
        let products = []; // Public products - empty by default, will be populated by developer
        let devProducts = []; // Developer-only products
        let selectedProduct = null;
        let paymentTimer = null;
        let messages = [];
        let infoTimeout = null;
        let discountCodes = []; // Discount codes - empty by default, will be created by developer
        let appliedDiscount = null;
        let userTheme = 'dark';
        let devTheme = 'dark';

        // DOM elements
        const homeView = document.getElementById('homeView');
        const productView = document.getElementById('productView');
        const devPanel = document.getElementById('devPanel');
        const productGrid = document.getElementById('productGrid');
        const devProductList = document.getElementById('devProductList');
        const messagesList = document.getElementById('messagesList');
        const infoBar = document.getElementById('infoBar');
        const infoText = document.getElementById('infoText');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            loadDevProducts();
            loadDiscountCodes();
            loadThemes();
            updateProductGrid();
            updateDevProductList();
            updateMessagesList();
            updateDiscountList();
            updateAccountMenu();
            applyTheme();
            
            // Sync system ready - no notification needed
        });

        function updateAccountMenu() {
            const loginSection = document.getElementById('loginSection');
            const loggedInSection = document.getElementById('loggedInSection');
            
            if (isLoggedIn) {
                loginSection.classList.add('hidden');
                loggedInSection.classList.remove('hidden');
            } else {
                loginSection.classList.remove('hidden');
                loggedInSection.classList.add('hidden');
            }
        }

        // Navigation
        document.getElementById('productListBtn').addEventListener('click', (e) => {
            e.preventDefault();
            showView('products');
        });

        document.getElementById('backToHome').addEventListener('click', (e) => {
            e.preventDefault();
            showView('home');
        });

        document.getElementById('backToHomeFromDev').addEventListener('click', (e) => {
            e.preventDefault();
            showView('home');
        });

        // Theme toggle
        document.getElementById('themeToggle').addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            if (isLoggedIn) {
                devTheme = devTheme === 'dark' ? 'light' : 'dark';
                saveThemes();
            } else {
                userTheme = userTheme === 'dark' ? 'light' : 'dark';
                saveThemes();
            }
            applyTheme();
        });

        // Account menu
        document.getElementById('accountBtn').addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            const menu = document.getElementById('accountMenu');
            menu.classList.toggle('hidden');
        });

        // Close menu only when clicking outside
        document.addEventListener('click', (e) => {
            const menu = document.getElementById('accountMenu');
            const btn = document.getElementById('accountBtn');
            if (!menu.contains(e.target) && !btn.contains(e.target)) {
                menu.classList.add('hidden');
            }
        });

        // Prevent menu from closing when clicking inside it
        document.getElementById('accountMenu').addEventListener('click', (e) => {
            e.stopPropagation();
        });



        // Developer login
        document.getElementById('devLoginBtn').addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('accountMenu').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('hidden');
        });

        // Go to dev panel from menu
        document.getElementById('gotoDevPanelBtn').addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('accountMenu').classList.add('hidden');
            showView('dev');
        });

        // Quick logout from menu
        document.getElementById('quickLogoutBtn').addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('accountMenu').classList.add('hidden');
            showCustomConfirm('Logout', 'Yakin ingin logout?', () => {
                isLoggedIn = false;
                updateAccountMenu();
                showView('home');
                applyTheme();
                showNotification('Berhasil logout!', 'success');
            });
        });

        document.getElementById('loginBtn').addEventListener('click', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const errorDiv = document.getElementById('loginError');
            
            if (username === 'NADRETHBYNUXZ' && password === '210108') {
                isLoggedIn = true;
                document.getElementById('loginModal').classList.add('hidden');
                updateAccountMenu();
                showView('dev');
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                errorDiv.classList.add('hidden');
                applyTheme();
                showNotification('Berhasil login sebagai developer!', 'success');
            } else {
                errorDiv.classList.remove('hidden');
                // Clear error after 3 seconds
                setTimeout(() => {
                    errorDiv.classList.add('hidden');
                }, 3000);
            }
        });

        document.getElementById('logoutBtn').addEventListener('click', (e) => {
            e.preventDefault();
            showCustomConfirm('Logout', 'Yakin ingin logout?', () => {
                isLoggedIn = false;
                updateAccountMenu();
                showView('home');
                applyTheme();
                showNotification('Berhasil logout!', 'success');
            });
        });

        // WhatsApp Channel
        document.getElementById('whatsappChannelBtn').addEventListener('click', () => {
            window.open('https://whatsapp.com/channel/0029Vb8wDul2975EOrZiwG07', '_blank', 'noopener,noreferrer');
        });

        document.getElementById('closeLogin').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginError').classList.add('hidden');
        });

        // Info management
        document.getElementById('setInfoBtn').addEventListener('click', (e) => {
            e.preventDefault();
            const info = document.getElementById('infoInput').value.trim();
            if (info) {
                showInfo(info);
                document.getElementById('infoInput').value = '';
            }
        });

        document.getElementById('clearInfoBtn').addEventListener('click', (e) => {
            e.preventDefault();
            hideInfo();
        });

        // Product management
        document.getElementById('addProductBtn').addEventListener('click', (e) => {
            e.preventDefault();
            const name = document.getElementById('productName').value.trim();
            const price = document.getElementById('productPrice').value.trim();
            const benefit = document.getElementById('productBenefit').value.trim();
            
            if (name && price && benefit && !isNaN(price) && parseInt(price) > 0) {
                const product = {
                    id: Date.now(),
                    name: name,
                    price: parseInt(price),
                    benefit: benefit,
                    sold: false
                };
                
                // Add to dev products (only visible to developer)
                devProducts.push(product);
                saveDevProducts();
                updateDevProductList();
                
                // Clear form
                document.getElementById('productName').value = '';
                document.getElementById('productPrice').value = '';
                document.getElementById('productBenefit').value = '';
                
                // Show success message
                showNotification('Produk berhasil ditambahkan dan disinkronkan!', 'success');
            } else {
                showNotification('Mohon isi semua field dengan benar!', 'error');
            }
        });

        // Discount management
        document.getElementById('addDiscountBtn').addEventListener('click', (e) => {
            e.preventDefault();
            const code = document.getElementById('discountCode').value.trim().toUpperCase();
            const percent = parseInt(document.getElementById('discountPercent').value);
            const expiry = document.getElementById('discountExpiry').value;
            
            if (code && percent && expiry && percent > 0 && percent <= 100) {
                // Check if code already exists
                const existingCode = discountCodes.find(d => d.code === code);
                if (existingCode) {
                    showNotification('Kode diskon sudah ada!', 'error');
                    return;
                }
                
                const discount = {
                    id: Date.now(),
                    code: code,
                    percent: percent,
                    expiry: new Date(expiry),
                    active: true
                };
                
                discountCodes.push(discount);
                saveDiscountCodes();
                updateDiscountList();
                
                // Clear form
                document.getElementById('discountCode').value = '';
                document.getElementById('discountPercent').value = '';
                document.getElementById('discountExpiry').value = '';
                
                showNotification('Kode diskon berhasil ditambahkan!', 'success');
            } else {
                showNotification('Mohon isi semua field dengan benar!', 'error');
            }
        });

        // Apply discount
        document.getElementById('applyDiscountBtn').addEventListener('click', () => {
            const code = document.getElementById('discountInput').value.trim().toUpperCase();
            const discount = discountCodes.find(d => 
                d.code === code && 
                d.active && 
                new Date() <= d.expiry
            );
            
            if (discount) {
                appliedDiscount = discount;
                updatePriceDisplay();
                document.getElementById('discountStatus').innerHTML = `<span class="text-green-400">‚úì Diskon ${discount.percent}% berhasil diterapkan!</span>`;
            } else {
                appliedDiscount = null;
                updatePriceDisplay();
                document.getElementById('discountStatus').innerHTML = `<span class="text-red-400">‚úó Kode diskon tidak valid atau sudah kadaluwarsa</span>`;
            }
        });

        // Product modal
        document.getElementById('closeModal').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('productModal').classList.add('hidden');
        });

        document.getElementById('buyNowBtn').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('productModal').classList.add('hidden');
            document.getElementById('paymentModal').classList.remove('hidden');
            appliedDiscount = null;
            document.getElementById('discountInput').value = '';
            document.getElementById('discountStatus').innerHTML = '';
            updatePriceDisplay();
        });

        // Payment methods
        document.querySelectorAll('.payment-method').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const method = e.currentTarget.dataset.method;
                const number = e.currentTarget.dataset.number;
                const qr = e.currentTarget.dataset.qr;
                
                document.getElementById('paymentModal').classList.add('hidden');
                showPaymentDetail(method, number, qr);
            });
        });

        document.getElementById('closePayment').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('paymentModal').classList.add('hidden');
        });

        document.getElementById('cancelPayment').addEventListener('click', (e) => {
            e.preventDefault();
            if (paymentTimer) {
                clearInterval(paymentTimer);
            }
            document.getElementById('paymentDetailModal').classList.add('hidden');
        });

        document.getElementById('paidBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (selectedProduct) {
                const message = `bang saya sudah bayar produk abang ${selectedProduct.name}. Ini saya mau mengirimkan bukti transfer nya`;
                const whatsappUrl = `https://wa.me/6283179098786?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            }
            if (paymentTimer) {
                clearInterval(paymentTimer);
            }
            document.getElementById('paymentDetailModal').classList.add('hidden');
        });

        // Help button
        document.getElementById('helpBtn').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('contactModal').classList.remove('hidden');
        });

        document.getElementById('sendMessage').addEventListener('click', (e) => {
            e.preventDefault();
            const message = document.getElementById('contactMessage').value.trim();
            if (message) {
                messages.push({
                    id: Date.now(),
                    message: message,
                    timestamp: new Date().toLocaleString('id-ID')
                });
                updateMessagesList();
                document.getElementById('contactMessage').value = '';
                document.getElementById('contactModal').classList.add('hidden');
                showNotification('Pesan berhasil dikirim!', 'success');
            } else {
                showNotification('Mohon tulis pesan terlebih dahulu!', 'error');
            }
        });

        document.getElementById('closeContact').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('contactModal').classList.add('hidden');
        });

        // Custom modal variables
        let confirmCallback = null;
        let alertCallback = null;
        let promptCallback = null;
        let editingProduct = null;
        let editingIsDevProduct = false;

        // Custom modal event listeners
        document.getElementById('confirmCancel').addEventListener('click', () => {
            document.getElementById('confirmModal').classList.add('hidden');
            confirmCallback = null;
        });

        document.getElementById('confirmOk').addEventListener('click', () => {
            document.getElementById('confirmModal').classList.add('hidden');
            if (confirmCallback) {
                confirmCallback();
                confirmCallback = null;
            }
        });

        // Alert modal listeners
        document.getElementById('alertOk').addEventListener('click', () => {
            document.getElementById('alertModal').classList.add('hidden');
            if (alertCallback) {
                alertCallback();
                alertCallback = null;
            }
        });

        // Prompt modal listeners
        document.getElementById('promptCancel').addEventListener('click', () => {
            document.getElementById('promptModal').classList.add('hidden');
            if (promptCallback) {
                promptCallback(null);
                promptCallback = null;
            }
        });

        document.getElementById('promptOk').addEventListener('click', () => {
            const value = document.getElementById('promptInput').value;
            document.getElementById('promptModal').classList.add('hidden');
            if (promptCallback) {
                promptCallback(value);
                promptCallback = null;
            }
        });

        // Enter key support for prompt
        document.getElementById('promptInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('promptOk').click();
            }
        });

        document.getElementById('editCancel').addEventListener('click', () => {
            document.getElementById('editModal').classList.add('hidden');
            editingProduct = null;
        });

        document.getElementById('editSave').addEventListener('click', () => {
            const name = document.getElementById('editProductName').value.trim();
            const price = document.getElementById('editProductPrice').value.trim();
            const benefit = document.getElementById('editProductBenefit').value.trim();
            
            if (name && price && benefit && !isNaN(price) && parseInt(price) > 0) {
                editingProduct.name = name;
                editingProduct.price = parseInt(price);
                editingProduct.benefit = benefit;
                
                if (editingIsDevProduct) {
                    saveDevProducts();
                } else {
                    saveProducts();
                }
                
                updateProductGrid();
                updateDevProductList();
                document.getElementById('editModal').classList.add('hidden');
                showNotification('Produk berhasil diupdate!', 'success');
                editingProduct = null;
            } else {
                showNotification('Mohon isi semua field dengan benar!', 'error');
            }
        });

        // Functions
        function showCustomConfirm(title, message, callback) {
            document.getElementById('confirmTitle').textContent = title;
            document.getElementById('confirmMessage').textContent = message;
            confirmCallback = callback;
            document.getElementById('confirmModal').classList.remove('hidden');
        }

        function showCustomAlert(title, message, type = 'info', callback = null) {
            document.getElementById('alertTitle').textContent = title;
            document.getElementById('alertMessage').textContent = message;
            alertCallback = callback;
            
            const alertIcon = document.getElementById('alertIcon');
            
            // Set icon and color based on type
            switch(type) {
                case 'success':
                    alertIcon.className = 'w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4';
                    alertIcon.innerHTML = `
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                    `;
                    break;
                case 'error':
                    alertIcon.className = 'w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4';
                    alertIcon.innerHTML = `
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    `;
                    break;
                case 'warning':
                    alertIcon.className = 'w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4';
                    alertIcon.innerHTML = `
                        <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                    `;
                    break;
                default: // info
                    alertIcon.className = 'w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4';
                    alertIcon.innerHTML = `
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    `;
            }
            
            document.getElementById('alertModal').classList.remove('hidden');
        }

        function showCustomPrompt(title, message, defaultValue = '', callback = null) {
            document.getElementById('promptTitle').textContent = title;
            document.getElementById('promptMessage').textContent = message;
            document.getElementById('promptInput').value = defaultValue;
            promptCallback = callback;
            document.getElementById('promptModal').classList.remove('hidden');
            
            // Focus on input
            setTimeout(() => {
                document.getElementById('promptInput').focus();
                document.getElementById('promptInput').select();
            }, 100);
        }

        function showEditModal(product, isDevProduct) {
            editingProduct = product;
            editingIsDevProduct = isDevProduct;
            
            document.getElementById('editProductName').value = product.name;
            document.getElementById('editProductPrice').value = product.price;
            document.getElementById('editProductBenefit').value = product.benefit;
            
            document.getElementById('editModal').classList.remove('hidden');
        }

        function showView(view) {
            // Hide all views first
            const views = [homeView, productView, devPanel];
            views.forEach(v => {
                v.classList.add('hidden');
                v.classList.remove('view-transition');
            });
            
            // Ultra smooth scroll to top with easing
            window.scrollTo({ 
                top: 0, 
                behavior: 'smooth',
                block: 'start',
                inline: 'nearest'
            });
            
            // Show selected view with animation
            setTimeout(() => {
                switch(view) {
                    case 'home':
                        homeView.classList.remove('hidden');
                        homeView.classList.add('view-transition');
                        currentView = 'home';
                        break;
                    case 'products':
                        productView.classList.remove('hidden');
                        productView.classList.add('view-transition');
                        currentView = 'products';
                        updateProductGrid();
                        break;
                    case 'dev':
                        if (isLoggedIn) {
                            devPanel.classList.remove('hidden');
                            devPanel.classList.add('view-transition');
                            currentView = 'dev';
                            updateDevProductList();
                            updateMessagesList();
                            updateDiscountList();
                        }
                        break;
                }
            }, 50);
        }

        function showInfo(text) {
            infoText.textContent = text;
            infoBar.classList.remove('hidden');
            
            if (infoTimeout) {
                clearTimeout(infoTimeout);
            }
            
            infoTimeout = setTimeout(() => {
                hideInfo();
            }, 24 * 60 * 60 * 1000); // 24 hours
        }

        function hideInfo() {
            infoBar.classList.add('hidden');
            if (infoTimeout) {
                clearTimeout(infoTimeout);
                infoTimeout = null;
            }
        }

        function updateProductGrid() {
            productGrid.innerHTML = '';
            
            // Show only published products to regular users, all products to developers
            const displayProducts = isLoggedIn ? [...products, ...devProducts] : products;
            
            displayProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = `bg-gray-800 rounded-lg p-6 card-hover ${!product.sold ? 'cursor-pointer' : 'cursor-not-allowed opacity-75'}`;
                productCard.innerHTML = `
                    <h3 class="text-xl font-semibold mb-2">${product.name}</h3>
                    <p class="text-cyan-400 text-lg font-bold mb-4">Rp ${product.price.toLocaleString('id-ID')}</p>
                    <div class="flex justify-between items-center">
                        <span class="px-3 py-1 rounded-full text-sm font-medium ${product.sold ? 'bg-red-600' : 'bg-green-600'}">
                            ${product.sold ? 'Sold Out' : 'Available'}
                        </span>
                    </div>
                `;
                
                if (!product.sold) {
                    productCard.addEventListener('click', (e) => {
                        e.preventDefault();
                        showProductModal(product);
                    });
                } else {
                    productCard.style.pointerEvents = 'none';
                }
                
                productGrid.appendChild(productCard);
            });
        }

        function updateDevProductList() {
            devProductList.innerHTML = '';
            
            // Show both public and dev products in developer panel
            const allProducts = [...products, ...devProducts];
            
            allProducts.forEach(product => {
                const isDevProduct = devProducts.includes(product);
                const productItem = document.createElement('div');
                productItem.className = 'bg-gray-700 rounded-lg p-4';
                productItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <h4 class="font-semibold">${product.name}</h4>
                            ${isDevProduct ? '<span class="px-2 py-1 bg-red-600 rounded text-xs">DEV ONLY</span>' : '<span class="px-2 py-1 bg-green-600 rounded text-xs">PUBLISHED</span>'}
                        </div>
                        <button class="delete-product-btn text-red-400 hover:text-red-300" data-id="${product.id}" data-dev="${isDevProduct}">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                    <p class="text-cyan-400 mb-2">Rp ${product.price.toLocaleString('id-ID')}</p>
                    <p class="text-sm text-gray-300 mb-3">${product.benefit}</p>
                    <div class="flex space-x-2">
                        <button class="toggle-sold-btn px-4 py-2 rounded-lg text-sm font-medium ${product.sold ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'} transition-colors" data-id="${product.id}" data-dev="${isDevProduct}">
                            ${product.sold ? 'Set Available' : 'Set Sold'}
                        </button>
                        <button class="edit-product-btn px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors" data-id="${product.id}" data-dev="${isDevProduct}">
                            Edit
                        </button>
                        ${isDevProduct ? `<button class="publish-product-btn px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition-colors" data-id="${product.id}">PUBLISH</button>` : `<button class="dev-only-btn px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium transition-colors" data-id="${product.id}">DEV ONLY</button>`}
                    </div>
                `;
                
                devProductList.appendChild(productItem);
            });
            
            // Add event listeners for all buttons
            addProductButtonListeners();
        }

        function updateMessagesList() {
            messagesList.innerHTML = '';
            
            messages.forEach(msg => {
                const messageItem = document.createElement('div');
                messageItem.className = 'bg-gray-700 rounded p-3';
                messageItem.innerHTML = `
                    <p class="text-sm text-gray-300 mb-1">${msg.timestamp}</p>
                    <p>${msg.message}</p>
                `;
                messagesList.appendChild(messageItem);
            });
        }

        function showProductModal(product) {
            selectedProduct = product;
            document.getElementById('modalProductName').textContent = product.name;
            document.getElementById('modalProductPrice').textContent = `Rp ${product.price.toLocaleString('id-ID')}`;
            // Format benefit text as bullet points
            const benefitText = product.benefit;
            const benefitLines = benefitText.split(/[\n\r]+/).filter(line => line.trim());
            const formattedBenefit = benefitLines.map(line => {
                const trimmedLine = line.trim();
                // Check if line starts with number or already has bullet
                if (/^\d+\.?\s/.test(trimmedLine) || trimmedLine.startsWith('‚Ä¢') || trimmedLine.startsWith('-')) {
                    return `‚Ä¢ ${trimmedLine.replace(/^(\d+\.?\s|‚Ä¢\s|-\s)/, '')}`;
                }
                return `‚Ä¢ ${trimmedLine}`;
            }).join('<br>');
            
            document.getElementById('modalProductBenefit').innerHTML = formattedBenefit;
            document.getElementById('productModal').classList.remove('hidden');
        }

        function showPaymentDetail(method, number, qr) {
            const modal = document.getElementById('paymentDetailModal');
            const title = document.getElementById('paymentMethodTitle');
            const info = document.getElementById('paymentInfo');
            
            title.textContent = method.toUpperCase();
            
            if (method === 'qris') {
                info.innerHTML = `
                    <img src="${qr}" alt="QR Code" class="mx-auto mb-4 max-w-48" onerror="this.alt='QR Code tidak dapat dimuat'">
                    <p class="text-sm text-gray-300">Scan QR code di atas untuk melakukan pembayaran</p>
                `;
            } else {
                info.innerHTML = `
                    <p class="text-lg font-semibold mb-2">Nomor ${method.toUpperCase()}</p>
                    <p class="text-2xl font-bold text-cyan-400 mb-4">${number}</p>
                    <p class="text-sm text-gray-300">Salin nomor di atas dan lakukan transfer</p>
                `;
            }
            
            modal.classList.remove('hidden');
            startPaymentTimer();
        }

        function startPaymentTimer() {
            let timeLeft = 120; // 2 minutes
            const timerElement = document.getElementById('timer');
            const timerBar = document.getElementById('timerBar');
            
            // Reset animation
            timerBar.style.animation = 'none';
            timerBar.offsetHeight; // Trigger reflow
            timerBar.style.animation = 'countdown 120s linear forwards';
            
            paymentTimer = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(paymentTimer);
                    document.getElementById('paymentDetailModal').classList.add('hidden');
                    document.getElementById('paymentModal').classList.remove('hidden');
                }
                
                timeLeft--;
            }, 1000);
        }

        function addProductButtonListeners() {
            // Delete product buttons
            document.querySelectorAll('.delete-product-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(btn.dataset.id);
                    const isDevProduct = btn.dataset.dev === 'true';
                    deleteProduct(id, isDevProduct);
                });
            });
            
            // Toggle sold buttons
            document.querySelectorAll('.toggle-sold-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(btn.dataset.id);
                    const isDevProduct = btn.dataset.dev === 'true';
                    toggleSold(id, isDevProduct);
                });
            });
            
            // Edit product buttons
            document.querySelectorAll('.edit-product-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(btn.dataset.id);
                    const isDevProduct = btn.dataset.dev === 'true';
                    editProduct(id, isDevProduct);
                });
            });
            
            // Publish product buttons
            document.querySelectorAll('.publish-product-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(btn.dataset.id);
                    publishProduct(id);
                });
            });
            
            // Dev only buttons
            document.querySelectorAll('.dev-only-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(btn.dataset.id);
                    makeDevOnly(id);
                });
            });
        }

        function deleteProduct(id, isDevProduct = false) {
            showCustomConfirm(
                'Hapus Produk',
                'Yakin ingin menghapus produk ini? Tindakan ini tidak dapat dibatalkan.',
                () => {
                    if (isDevProduct) {
                        devProducts = devProducts.filter(p => p.id !== id);
                        saveDevProducts();
                    } else {
                        products = products.filter(p => p.id !== id);
                        saveProducts();
                    }
                    updateProductGrid();
                    updateDevProductList();
                    showNotification('Produk berhasil dihapus!', 'success');
                }
            );
        }

        function toggleSold(id, isDevProduct = false) {
            const productArray = isDevProduct ? devProducts : products;
            const product = productArray.find(p => p.id === id);
            if (product) {
                product.sold = !product.sold;
                if (isDevProduct) {
                    saveDevProducts();
                } else {
                    saveProducts();
                }
                updateProductGrid();
                updateDevProductList();
            }
        }

        function editProduct(id, isDevProduct = false) {
            const productArray = isDevProduct ? devProducts : products;
            const product = productArray.find(p => p.id === id);
            if (product) {
                showEditModal(product, isDevProduct);
            }
        }

        // Global Cloud Storage System - Shared across all devices
        const CLOUD_STORAGE_KEY = 'NADRETH_HOSTING_GLOBAL_DATA_2024';
        
        // Initialize global storage if not exists
        function initGlobalStorage() {
            if (!window.NADRETH_GLOBAL_STORAGE) {
                window.NADRETH_GLOBAL_STORAGE = {
                    products: [], // Empty by default
                    devProducts: [],
                    discountCodes: [], // Empty by default
                    lastUpdated: new Date().toISOString()
                };
            }
        }
        
        function saveProducts() {
            localStorage.setItem('nadreth_products', JSON.stringify(products));
            // Save to global storage immediately
            saveToGlobalStorage();
        }

        function loadProducts() {
            // First try to load from global storage
            loadFromGlobalStorage();
            
            // Then check localStorage as fallback
            const saved = localStorage.getItem('nadreth_products');
            if (saved) {
                try {
                    const parsedProducts = JSON.parse(saved);
                    if (parsedProducts.length > products.length) {
                        products = parsedProducts;
                    }
                } catch (e) {
                    console.log('No saved products found');
                }
            }
        }

        function saveDevProducts() {
            localStorage.setItem('nadreth_dev_products', JSON.stringify(devProducts));
            saveToGlobalStorage();
        }

        function loadDevProducts() {
            const saved = localStorage.getItem('nadreth_dev_products');
            if (saved) {
                try {
                    devProducts = JSON.parse(saved);
                } catch (e) {
                    console.log('Error loading dev products');
                }
            }
        }

        function saveDiscountCodes() {
            localStorage.setItem('nadreth_discounts', JSON.stringify(discountCodes));
            saveToGlobalStorage();
        }

        function loadDiscountCodes() {
            const saved = localStorage.getItem('nadreth_discounts');
            if (saved) {
                try {
                    const parsedDiscounts = JSON.parse(saved).map(d => ({
                        ...d,
                        expiry: new Date(d.expiry)
                    }));
                    if (parsedDiscounts.length > discountCodes.length) {
                        discountCodes = parsedDiscounts;
                    }
                } catch (e) {
                    console.log('No saved discount codes found');
                }
            }
        }

        // Global storage functions - works across all devices and browsers
        function saveToGlobalStorage() {
            try {
                initGlobalStorage();
                
                const globalData = {
                    products: products,
                    devProducts: devProducts,
                    discountCodes: discountCodes.map(d => ({
                        ...d,
                        expiry: d.expiry.toISOString()
                    })),
                    lastUpdated: new Date().toISOString()
                };
                
                // Save to window global storage
                window.NADRETH_GLOBAL_STORAGE = globalData;
                
                // Save to multiple storage locations for persistence
                localStorage.setItem(CLOUD_STORAGE_KEY, JSON.stringify(globalData));
                sessionStorage.setItem(CLOUD_STORAGE_KEY, JSON.stringify(globalData));
                
                // Try to save to IndexedDB for better persistence
                try {
                    if ('indexedDB' in window) {
                        const request = indexedDB.open('NadrethHosting', 1);
                        request.onupgradeneeded = function(e) {
                            const db = e.target.result;
                            if (!db.objectStoreNames.contains('products')) {
                                db.createObjectStore('products', { keyPath: 'id' });
                            }
                        };
                        request.onsuccess = function(e) {
                            const db = e.target.result;
                            const transaction = db.transaction(['products'], 'readwrite');
                            const store = transaction.objectStore('products');
                            store.put({ id: 'global_data', data: globalData });
                        };
                    }
                } catch (e) {
                    console.log('IndexedDB not available');
                }
                
                console.log('‚úÖ Data berhasil disimpan ke cloud global!');
                
            } catch (error) {
                console.log('‚ùå Gagal menyimpan ke cloud, data tersimpan lokal');
            }
        }

        function loadFromGlobalStorage() {
            try {
                let globalData = null;
                
                // Try to load from window global storage first
                if (window.NADRETH_GLOBAL_STORAGE) {
                    globalData = window.NADRETH_GLOBAL_STORAGE;
                }
                
                // Try localStorage
                if (!globalData) {
                    const localData = localStorage.getItem(CLOUD_STORAGE_KEY);
                    if (localData) {
                        globalData = JSON.parse(localData);
                    }
                }
                
                // Try sessionStorage
                if (!globalData) {
                    const sessionData = sessionStorage.getItem(CLOUD_STORAGE_KEY);
                    if (sessionData) {
                        globalData = JSON.parse(sessionData);
                    }
                }
                
                if (globalData) {
                    // Update products with global data
                    if (globalData.products && globalData.products.length > 0) {
                        products = globalData.products;
                    }
                    
                    if (globalData.devProducts) {
                        devProducts = globalData.devProducts;
                    }
                    
                    if (globalData.discountCodes && globalData.discountCodes.length > 0) {
                        discountCodes = globalData.discountCodes.map(d => ({
                            ...d,
                            expiry: new Date(d.expiry)
                        }));
                    }
                    
                    // Set global storage for other instances
                    window.NADRETH_GLOBAL_STORAGE = globalData;
                    
                    console.log('‚úÖ Data berhasil dimuat dari cloud global!');
                    return true;
                }
            } catch (error) {
                console.log('‚ùå Gagal memuat dari cloud, menggunakan data default');
            }
            return false;
        }

        // Real-time sync across browser tabs/windows
        window.addEventListener('storage', function(e) {
            if (e.key === CLOUD_STORAGE_KEY && e.newValue) {
                try {
                    const newData = JSON.parse(e.newValue);
                    
                    // Update current data
                    products = newData.products || products;
                    devProducts = newData.devProducts || devProducts;
                    discountCodes = (newData.discountCodes || discountCodes).map(d => ({
                        ...d,
                        expiry: new Date(d.expiry)
                    }));
                    
                    // Update UI
                    updateProductGrid();
                    updateDevProductList();
                    updateDiscountList();
                    
                    showNotification('üîÑ Data tersinkronisasi dari perangkat lain!', 'success');
                } catch (error) {
                    console.log('Error syncing data');
                }
            }
        });

        // Auto-sync every 10 seconds for better real-time experience
        setInterval(() => {
            loadFromGlobalStorage();
            updateProductGrid();
        }, 10000);

        function publishProduct(id) {
            const devProduct = devProducts.find(p => p.id === id);
            if (devProduct) {
                showCustomConfirm(
                    'Publish Produk',
                    `Yakin ingin mempublish "${devProduct.name}" ke publik? Produk akan terlihat oleh semua pengunjung.`,
                    () => {
                        // Move from dev products to public products
                        devProducts = devProducts.filter(p => p.id !== id);
                        products.push(devProduct);
                        
                        saveProducts();
                        saveDevProducts();
                        updateProductGrid();
                        updateDevProductList();
                        
                        // Show success notification
                        showNotification('Produk berhasil dipublish dan tersedia untuk semua pengguna!', 'success');
                    }
                );
            }
        }

        function makeDevOnly(id) {
            const publicProduct = products.find(p => p.id === id);
            if (publicProduct) {
                showCustomConfirm(
                    'Jadikan DEV ONLY',
                    `Yakin ingin menjadikan "${publicProduct.name}" sebagai DEV ONLY? Produk akan disembunyikan dari publik dan hanya terlihat oleh developer.`,
                    () => {
                        // Move from public products to dev products
                        products = products.filter(p => p.id !== id);
                        devProducts.push(publicProduct);
                        
                        saveProducts();
                        saveDevProducts();
                        updateProductGrid();
                        updateDevProductList();
                        
                        // Show success notification
                        showNotification(`Produk "${publicProduct.name}" sekarang DEV ONLY!`, 'success');
                    }
                );
            }
        }



        function saveThemes() {
            localStorage.setItem('nadreth_user_theme', userTheme);
            localStorage.setItem('nadreth_dev_theme', devTheme);
        }

        function loadThemes() {
            const savedUserTheme = localStorage.getItem('nadreth_user_theme');
            const savedDevTheme = localStorage.getItem('nadreth_dev_theme');
            if (savedUserTheme) userTheme = savedUserTheme;
            if (savedDevTheme) devTheme = savedDevTheme;
        }

        function applyTheme() {
            const currentTheme = isLoggedIn ? devTheme : userTheme;
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            
            if (currentTheme === 'light') {
                body.classList.add('light-theme');
                themeIcon.innerHTML = `<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>`;
            } else {
                body.classList.remove('light-theme');
                themeIcon.innerHTML = `<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>`;
            }
        }

        function updateDiscountList() {
            const discountList = document.getElementById('discountList');
            discountList.innerHTML = '';
            
            discountCodes.forEach(discount => {
                const isExpired = new Date() > discount.expiry;
                const discountItem = document.createElement('div');
                discountItem.className = 'bg-gray-700 rounded p-3 flex justify-between items-center';
                discountItem.innerHTML = `
                    <div>
                        <span class="font-semibold">${discount.code}</span>
                        <span class="text-cyan-400 ml-2">${discount.percent}%</span>
                        <div class="text-sm text-gray-300">
                            Berlaku sampai: ${discount.expiry.toLocaleString('id-ID')}
                            ${isExpired ? '<span class="text-red-400 ml-2">(Kadaluwarsa)</span>' : ''}
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="toggleDiscount(${discount.id})" class="px-4 py-2 rounded-lg text-sm font-medium ${discount.active ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'} transition-colors">
                            ${discount.active ? 'Nonaktifkan' : 'Aktifkan'}
                        </button>
                        <button onclick="deleteDiscount(${discount.id})" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium transition-colors">
                            Hapus
                        </button>
                    </div>
                `;
                discountList.appendChild(discountItem);
            });
        }

        function updatePriceDisplay() {
            if (!selectedProduct) return;
            
            const originalPrice = selectedProduct.price;
            let finalPrice = originalPrice;
            
            document.getElementById('originalPrice').textContent = `Rp ${originalPrice.toLocaleString('id-ID')}`;
            
            if (appliedDiscount) {
                const discountAmount = Math.floor(originalPrice * appliedDiscount.percent / 100);
                finalPrice = originalPrice - discountAmount;
                
                document.getElementById('discountAmount').textContent = `-Rp ${discountAmount.toLocaleString('id-ID')} (${appliedDiscount.percent}%)`;
                document.getElementById('discountRow').classList.remove('hidden');
            } else {
                document.getElementById('discountRow').classList.add('hidden');
            }
            
            document.getElementById('finalPrice').textContent = `Rp ${finalPrice.toLocaleString('id-ID')}`;
        }

        function deleteDiscount(id) {
            const discount = discountCodes.find(d => d.id === id);
            if (discount) {
                showCustomConfirm(
                    'Hapus Kode Diskon',
                    `Yakin ingin menghapus kode diskon "${discount.code}"? Tindakan ini tidak dapat dibatalkan.`,
                    () => {
                        discountCodes = discountCodes.filter(d => d.id !== id);
                        saveDiscountCodes();
                        updateDiscountList();
                        showNotification('Kode diskon berhasil dihapus!', 'success');
                    }
                );
            }
        }

        function toggleDiscount(id) {
            const discount = discountCodes.find(d => d.id === id);
            if (discount) {
                discount.active = !discount.active;
                saveDiscountCodes();
                updateDiscountList();
                showNotification(`Kode diskon ${discount.active ? 'diaktifkan' : 'dinonaktifkan'}!`, 'success');
            }
        }
        
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
            const icon = type === 'success' ? 
                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>' :
                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>';
            
            notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-4 rounded-lg shadow-lg z-50 fade-in`;
            notification.innerHTML = `
                <div class="flex items-center space-x-3">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        ${icon}
                    </svg>
                    <span class="font-semibold">${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9870d58041d7df9f',t:'MTc1OTIwNTA0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
